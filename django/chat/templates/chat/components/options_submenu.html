<div class="accordion-item {{ options_section_id }}">
  <h5 class="accordion-header">
    <button class="accordion-button text-black fw-semibold bg-light py-2 px-3 collapsed"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#options-accordion-{{ options_section_id }}"
            aria-expanded="true"
            aria-controls="options-accordion-{{ options_section_id }}"
            onclick="handleModeChange('{{ options_section_id }}', this)">
      {% block accordion_title %}{% endblock %}
    </button>
  </h5>
  <div id="options-accordion-{{ options_section_id }}"
       class="accordion-collapse collapse{% if swap %} show{% endif %}"
       data-bs-parent="#options-accordion"
       {% if swap %}hx-swap-oob="true" hx-ext="morph"{% endif %}>
    <div class="accordion-body bg-light p-0 pb-2">
      {% block accordion_body %}{% endblock %}
    </div>
  </div>
  {% if swap %}
    {# Trigger saving settings #}
    <script>
  const hidden_mode_input = document.querySelector('#chat-options input[name="mode"]');
  hidden_mode_input.value = mode;
  // If the element is not null, dispatch a change event to trigger the form submission
  if (element) hidden_mode_input.dispatchEvent(new Event('change'));
    </script>
  {% endif %}
</div>
