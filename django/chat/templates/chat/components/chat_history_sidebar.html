{% load i18n %}
<div id="left-sidebar"
     class="chat-sidebar bg-light hidden d-flex flex-column"
     aria-label='{% trans "Chat history" %}'>
  <div class="border-end h-100 overflow-hidden d-flex flex-column">
    <div class="offcanvas-header d-flex pb-2 p-3">
      <a class="btn btn-outline-dark fw-semibold w-100 text-start me-3"
         id="new-chat-button"
         href="{% url 'chat:new_chat' %}">
        <i class="bi bi-plus-square me-2"></i>
        {% trans "New chat" %}
      </a>
      <div class="col-auto">
        <button type="button"
                class="btn-close"
                id="close-left-sidebar"
                aria-controls="left-sidebar"
                style="margin-top: -4px"
                aria-label='{% trans "Close" %}'></button>
      </div>
    </div>
    <div class="overflow-y-auto overflow-x-hidden p-3 pt-0 flex-grow-1"
         id="chat-history-list">
      <ul class="list-unstyled my-0" id="chat-list">
        {% for chat in user_chats %}
          {% if chat.id %}
            {% include 'chat/components/chat_list_item.html' %}
          {% endif %}
        {% endfor %}
      </ul>
    </div>
    <div class="p-3">
      <button type="button"
              class="btn btn-outline-danger w-100"
              id="delete-all-chats"
              hx-target="#chat-history-list"
              hx-post="{% url 'chat:delete_all_chats' %}"
              hx-confirm="Are you sure you want to delete all chats?"
              hx-confirm-target="#delete-all-chat-modal">
        <i class="bi bi-trash me-2"></i>Delete all chats
      </button>
    </div>
  </div>

</div>
