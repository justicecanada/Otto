{% load i18n %}
{% load rules %}
<ul class="navbar-nav">
  <li class="nav-item dropdown">
    <button class="btn btn-dark text-muted dropdown-toggle px-2 me-1"
            data-bs-toggle="dropdown"
            aria-expanded="false">{{ request.user.full_name }}</button>
    <ul class="dropdown-menu dropdown-menu-end">
      <li>{% include 'components/language_toggle.html' %}</li>
      <li>
        <a href="{% url 'user_feedback' %}"
           class="dropdown-item text-nowrap text-decoration-none">{% trans "Provide feedback" %}</a>
      </li>

      {% has_perm "otto.manage_users" request.user as can_manage_users %}
      {% if can_manage_users %}
        <li>
          <hr class="dropdown-divider">
        </li>
        <li>
          <a class="a dropdown-item" href="{% url 'manage_users' %}">{% trans "Manage users" %}</a>
          <a class="a dropdown-item" href="{% url 'cost_dashboard' %}">{% trans "Cost dashboard" %}</a>
        </li>
      {% endif %}
      <li>
        <hr class="dropdown-divider">
      </li>
      <li>
        <a href="{% url 'azure_auth:logout' %}" class="dropdown-item">{% trans "Logout" %}</a>
      </li>
    </ul>
  </li>
</ul>
